@inherits BasePkmdsComponent

<MudDialog>
    <TitleContent>
        <MudText Typo="@Typo.h6">TR Relearn Editor</MudText>
    </TitleContent>
    <DialogContent>
        @if (Pokemon is ITechRecord techRecord)
        {
            <MudDataGrid T="@TrMoveInfo"
                         Items="@TrMoves"
                         Hover
                         Dense
                         ReadOnly="false"
                         EditMode="@DataGridEditMode.Cell"
                         Height="500px"
                         FixedHeader>
                <Columns>
                    <PropertyColumn Property="@(x => x.Index)" Title="#" />
                    <TemplateColumn Title="Type">
                        <CellTemplate>
                            @MoveTypeSummary(context.Item.Type)
                        </CellTemplate>
                    </TemplateColumn>
                    <PropertyColumn Property="@(x => x.Name)" Title="Move" />
                    <TemplateColumn Title="Learned">
                        <CellTemplate>
                            <MudCheckBox T="@bool"
                                         Value="@context.Item.IsLearned"
                                         ValueChanged="@(value => ToggleTrFlag(context.Item.RecordIndex, value))"
                                         Dense />
                        </CellTemplate>
                    </TemplateColumn>
                </Columns>
            </MudDataGrid>
        }
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="@GiveAll"
                   Variant="@Variant.Outlined"
                   Color="@Color.Primary">
            Give All
        </MudButton>
        <MudButton OnClick="@RemoveAll"
                   Variant="@Variant.Outlined"
                   Color="@Color.Secondary">
            Remove All
        </MudButton>
        <MudSpacer />
        <MudButton OnClick="@Cancel"
                   Variant="@Variant.Outlined">
            Cancel
        </MudButton>
        <MudButton OnClick="@Save"
                   Variant="@Variant.Filled"
                   Color="@Color.Primary">
            Save
        </MudButton>
    </DialogActions>
</MudDialog>
