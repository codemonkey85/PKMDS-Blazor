@using Microsoft.AspNetCore.Components.Routing
@using Microsoft.AspNetCore.Components.Web
@using MainLayout = Pkmds.Rcl.Components.Layout.MainLayout
@using NotFoundPage = Pkmds.Rcl.Components.Pages.NotFound

@inject IJSRuntime JSRuntime

<Router AppAssembly="@typeof(MainLayout).Assembly"
        NotFoundPage="@typeof(NotFoundPage)">
    <Found Context="routeData">
        <RouteView RouteData="@routeData"
                   DefaultLayout="@typeof(MainLayout)"/>
        <FocusOnNavigate RouteData="@routeData"
                         Selector="h1"/>
    </Found>
</Router>

@code {

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (!firstRender)
        {
            return;
        }

        await JSRuntime.InvokeVoidAsync("addUpdateListener");
    }

}
